<!doctype html><html lang=en><head><meta charset=utf-8><title>Codeforces 208B - Solitaire</title><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://blog.tgc-thallium.com/enindex.xml title="Thallium's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Codeforces 208B - Solitaire"><meta name=twitter:description content><link rel=stylesheet href=https://blog.tgc-thallium.com/enfontawesome/css/all.min.css><link rel=stylesheet href=https://blog.tgc-thallium.com/encss/main.css><link id=dark-mode-theme rel=stylesheet href=https://blog.tgc-thallium.com/encss/dark.css><script>var darkTheme=document.getElementById('dark-mode-theme'),storedTheme=localStorage.getItem('dark-mode-storage');storedTheme==='dark'?darkTheme.disabled=!1:storedTheme==='light'&&(darkTheme.disabled=!0)</script><script src=https://blog.tgc-thallium.com/enjs/main.bundle.js></script><script src=https://blog.tgc-thallium.com/enjs/instantpage.min.js type=module defer></script><meta name=generator content="Hugo 0.83.1"></head><body><header><nav class=navbar><div class=nav><ul class=nav-links><li><a href=/en/ id=Home><em class="fas fa-home fa-lg"></em></a></li><li><a href=/en/about/ id=About><em class="fas fa-user fa-lg"></em></a></li><li><a href=/en/tags/ id=Tags><em class="fas fa-tag fa-lg"></em></a></li><li><a href=/en/categories/ id=Categories><em class="fas fa-list fa-lg"></em></a></li><li><a href=/en/archives/ id=Archives><em class="fas fa-archive fa-lg"></em></a></li><li><a href=/en/search/ id=Search><em class="fas fa-search fa-lg"></em></a></li></ul></div></nav><div class=intro-header><div class=container><div class=post-heading><h1>Codeforces 208B - Solitaire</h1><span class=meta-post><em class="fa fa-calendar-alt"></em>&nbsp;Feb 22, 2020</span></div></div></div></header><div class=container role=main><article class=article class=blog-post><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/katex.min.css integrity=sha384-L+Gq2Cso/Y2x8fX4wausgiZT8z0QPZz7OqPuz4YqAycQJyrJT9NRLpjFBD6zlOia crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/katex.min.js integrity=sha384-z64WtjpyrKFsxox9eI4SI8eM9toXdoYeWb5Qh+8PO+eG54Bv9BZqf9xNhlcLf/sA crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/contrib/auto-render.min.js integrity=sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:!0},{left:'$',right:'$',display:!1},{left:'\\(',right:'\\)',display:!1},{left:'\\[',right:'\\]',display:!0}],throwOnError:!1})})</script><h1 id=solution>Solution</h1><p>In this problem, we could use DFS with memorization, the state is the following four elements: the number of left piles, the top cards on the three rightmost piles. If we could have one pile in the end, the answer is yes. BFS also works for this problem using the same state which might be more intuitive.</p><h1 id=题解>题解</h1><p>我们可以用记忆化dfs，dp状态是以下4个数：剩余的堆数、最右边三堆里顶端的牌。如果我们最后能剩下一堆的话答案就是yes。这题也可以用bfs，状态是dp是一样的，可能更好理解。</p><h1 id=code>Code</h1><div class=highlight><pre style=color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;bits/stdc++.h&gt;</span><span style=color:#75715e>
</span><span style=color:#75715e></span><span style=color:#00a8c8>using</span> <span style=color:#00a8c8>namespace</span> <span style=color:#111>std</span><span style=color:#111>;</span>

<span style=color:#00a8c8>const</span> <span style=color:#00a8c8>int</span> <span style=color:#111>N</span><span style=color:#f92672>=</span><span style=color:#ae81ff>60</span><span style=color:#111>;</span>
<span style=color:#111>string</span> <span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>N</span><span style=color:#111>];</span>
<span style=color:#00a8c8>int</span> <span style=color:#111>dp</span><span style=color:#111>[</span><span style=color:#111>N</span><span style=color:#111>][</span><span style=color:#111>N</span><span style=color:#111>][</span><span style=color:#111>N</span><span style=color:#111>][</span><span style=color:#111>N</span><span style=color:#111>];</span>
<span style=color:#00a8c8>bool</span> <span style=color:#75af00>dfs</span><span style=color:#111>(</span><span style=color:#00a8c8>int</span> <span style=color:#111>n</span><span style=color:#111>,</span><span style=color:#00a8c8>int</span> <span style=color:#111>i</span><span style=color:#111>,</span><span style=color:#00a8c8>int</span> <span style=color:#111>j</span><span style=color:#111>,</span><span style=color:#00a8c8>int</span> <span style=color:#111>k</span><span style=color:#111>){</span>
	<span style=color:#00a8c8>if</span><span style=color:#111>(</span><span style=color:#111>n</span><span style=color:#f92672>==</span><span style=color:#ae81ff>0</span><span style=color:#111>)</span> <span style=color:#00a8c8>return</span> <span style=color:#111>true</span><span style=color:#111>;</span>
	<span style=color:#00a8c8>int</span><span style=color:#f92672>&amp;</span> <span style=color:#111>d</span><span style=color:#f92672>=</span><span style=color:#111>dp</span><span style=color:#111>[</span><span style=color:#111>n</span><span style=color:#111>][</span><span style=color:#111>i</span><span style=color:#111>][</span><span style=color:#111>j</span><span style=color:#111>][</span><span style=color:#111>k</span><span style=color:#111>];</span>
	<span style=color:#00a8c8>if</span><span style=color:#111>(</span><span style=color:#111>dp</span><span style=color:#111>[</span><span style=color:#111>n</span><span style=color:#111>][</span><span style=color:#111>i</span><span style=color:#111>][</span><span style=color:#111>j</span><span style=color:#111>][</span><span style=color:#111>k</span><span style=color:#111>])</span> <span style=color:#00a8c8>return</span> <span style=color:#111>dp</span><span style=color:#111>[</span><span style=color:#111>n</span><span style=color:#111>][</span><span style=color:#111>i</span><span style=color:#111>][</span><span style=color:#111>j</span><span style=color:#111>][</span><span style=color:#111>k</span><span style=color:#111>]</span><span style=color:#f92672>==</span><span style=color:#ae81ff>1</span><span style=color:#f92672>?</span><span style=color:#111>true</span><span style=color:#f92672>:</span><span style=color:#111>false</span><span style=color:#111>;</span>
	<span style=color:#00a8c8>if</span><span style=color:#111>(</span><span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>i</span><span style=color:#111>][</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span><span style=color:#f92672>==</span><span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>j</span><span style=color:#111>][</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span><span style=color:#f92672>||</span><span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>i</span><span style=color:#111>][</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span><span style=color:#f92672>==</span><span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>j</span><span style=color:#111>][</span><span style=color:#ae81ff>1</span><span style=color:#111>]){</span>
		<span style=color:#00a8c8>if</span><span style=color:#111>(</span><span style=color:#111>dfs</span><span style=color:#111>(</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>i</span><span style=color:#111>,</span><span style=color:#111>k</span><span style=color:#111>,</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>3</span><span style=color:#111>)){</span>
			<span style=color:#00a8c8>return</span> <span style=color:#111>d</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#111>;</span>
		<span style=color:#111>}</span>
	<span style=color:#111>}</span>
	<span style=color:#00a8c8>if</span><span style=color:#111>(</span><span style=color:#111>n</span><span style=color:#f92672>&gt;=</span><span style=color:#ae81ff>3</span><span style=color:#f92672>&amp;&amp;</span><span style=color:#111>(</span><span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>i</span><span style=color:#111>][</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span><span style=color:#f92672>==</span><span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>3</span><span style=color:#111>][</span><span style=color:#ae81ff>0</span><span style=color:#111>]</span><span style=color:#f92672>||</span><span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>i</span><span style=color:#111>][</span><span style=color:#ae81ff>1</span><span style=color:#111>]</span><span style=color:#f92672>==</span><span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>3</span><span style=color:#111>][</span><span style=color:#ae81ff>1</span><span style=color:#111>])){</span>
		<span style=color:#00a8c8>if</span><span style=color:#111>(</span><span style=color:#111>dfs</span><span style=color:#111>(</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>j</span><span style=color:#111>,</span><span style=color:#111>k</span><span style=color:#111>,</span><span style=color:#111>i</span><span style=color:#111>)){</span>
			<span style=color:#00a8c8>return</span> <span style=color:#111>d</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span><span style=color:#111>;</span>
		<span style=color:#111>}</span>
	<span style=color:#111>}</span>
	<span style=color:#111>d</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>1</span><span style=color:#111>;</span>
	<span style=color:#00a8c8>return</span> <span style=color:#111>false</span><span style=color:#111>;</span>
<span style=color:#111>}</span>
<span style=color:#00a8c8>int</span> <span style=color:#75af00>main</span><span style=color:#111>()</span> <span style=color:#111>{</span>
    <span style=color:#111>ios</span><span style=color:#f92672>::</span><span style=color:#111>sync_with_stdio</span><span style=color:#111>(</span><span style=color:#111>false</span><span style=color:#111>);</span>
    <span style=color:#111>cin</span><span style=color:#111>.</span><span style=color:#111>tie</span><span style=color:#111>(</span><span style=color:#00a8c8>nullptr</span><span style=color:#111>);</span>
	<span style=color:#00a8c8>int</span> <span style=color:#111>n</span><span style=color:#111>;</span>
	<span style=color:#111>cin</span><span style=color:#f92672>&gt;&gt;</span><span style=color:#111>n</span><span style=color:#111>;</span>
	<span style=color:#111>forn</span><span style=color:#111>(</span><span style=color:#111>i</span><span style=color:#111>,</span><span style=color:#111>n</span><span style=color:#111>)</span> <span style=color:#111>cin</span><span style=color:#f92672>&gt;&gt;</span><span style=color:#111>s</span><span style=color:#111>[</span><span style=color:#111>i</span><span style=color:#111>];</span>
	<span style=color:#111>cout</span><span style=color:#f92672>&lt;&lt;</span><span style=color:#111>(</span><span style=color:#111>dfs</span><span style=color:#111>(</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1</span><span style=color:#111>,</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>2</span><span style=color:#111>,</span><span style=color:#111>n</span><span style=color:#f92672>-</span><span style=color:#ae81ff>3</span><span style=color:#111>)</span><span style=color:#f92672>?</span><span style=color:#d88200>&#34;YES&#34;</span><span style=color:#f92672>:</span><span style=color:#d88200>&#34;NO&#34;</span><span style=color:#111>);</span>
    <span style=color:#00a8c8>return</span> <span style=color:#ae81ff>0</span><span style=color:#111>;</span>
<span style=color:#111>}</span>
</code></pre></div><div class=blog-tags><a href=https://blog.tgc-thallium.com/entags/dfs/>DFS</a>&nbsp;
<a href=https://blog.tgc-thallium.com/entags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/dp/>动态规划/DP</a>&nbsp;</div></article></div><footer><div class=social-icons><a href=https://github.com/thallium name=GitHub><em class="fab fa-github"></em></a></div><div class=container><p class="credits copyright"><a href=https://blog.tgc-thallium.com/enabout>hugo author</a>
&nbsp;&copy;
2021
&nbsp;/&nbsp;
<a href=https://blog.tgc-thallium.com/en>Thallium's Blog</a>
&nbsp;&ndash;&nbsp;
<em class="fas fa-moon" id=dark-mode-toggle></em></p><p class="credits theme-by">Powered By <a href=https://gohugo.io>Hugo</a>&nbsp;
Theme
<a href=https://github.com/matsuyoshi30/harbor>Harbor</a></p></div></footer></body></html>